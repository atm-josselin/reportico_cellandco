<?xml version="1.0"?><Report><ReportQuery><Format><ReportTitle>Charge de travail</ReportTitle><ReportDescription></ReportDescription><PageSize>.DEFAULT</PageSize><PageOrientation>.DEFAULT</PageOrientation><TopMargin></TopMargin><BottomMargin></BottomMargin><RightMargin></RightMargin><LeftMargin></LeftMargin><pdfFont></pdfFont><pdfFontSize></pdfFontSize><PreExecuteCode>NONE</PreExecuteCode><formBetweenRows>solidline</formBetweenRows><gridDisplay>.DEFAULT</gridDisplay><gridSortable>.DEFAULT</gridSortable><gridSearchable>.DEFAULT</gridSearchable><gridPageable>.DEFAULT</gridPageable><gridPageSize>.DEFAULT</gridPageSize></Format><Datasource><SourceType>database</SourceType><SourceConnection><DatabaseType>mysql</DatabaseType><DatabaseName></DatabaseName><HostName></HostName><ServiceName></ServiceName><UserName></UserName><Password></Password></SourceConnection></Datasource><EntryForm><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection>all</RowSelection><SQL><QuerySql></QuerySql><SQLRaw>SELECT 
	WEEK(IFNULL(DateOperation(llx_commande_extrafields.datelivraisonprev, llx_commande_extrafields.dateenlevementprev, llx_commande_extrafields.date_assemblage, llx_commande.date_livraison, llx_commande_extrafields.cmd_type_tpt,  llx_commande.date_commande),llx_ticketsup_extrafields.deadline),3 ) Semaine, 
    DAYNAME(IFNULL(DateOperation(llx_commande_extrafields.datelivraisonprev, llx_commande_extrafields.dateenlevementprev, llx_commande_extrafields.date_assemblage, llx_commande.date_livraison, llx_commande_extrafields.cmd_type_tpt,  llx_commande.date_commande),llx_ticketsup_extrafields.deadline)) Jour,
	llx_c_ticketsup_type.label TypeCommande,
    SUM(llx_ticketsup_extrafields.heure_est) DureEst,
	COUNT(llx_ticketsup.track_id) NBTicket
FROM llx_ticketsup
LEFT JOIN 
	(SELECT llx_commande.rowid bc, llx_ticketsup.ref, llx_ticketsup.track_id track_id
		FROM llx_element_element, llx_ticketsup, llx_commande
			Where llx_element_element.targettype = 'ticketsup' AND llx_element_element.sourcetype = 'commande'
			AND llx_ticketsup.rowid = llx_element_element.fk_target AND llx_ticketsup.fk_statut &lt; 8  AND llx_element_element.fk_source = llx_commande.rowid
	UNION
	SELECT llx_commande.rowid bc, llx_ticketsup.ref, llx_ticketsup.track_id track_id
		FROM llx_element_element, llx_ticketsup, llx_commande
			Where llx_element_element.sourcetype = 'ticketsup' AND llx_element_element.targettype = 'commande'
			AND llx_ticketsup.rowid = llx_element_element.fk_source AND llx_ticketsup.fk_statut &lt; 8  AND llx_element_element.fk_target = llx_commande.rowid) AS Ticket ON llx_ticketsup.track_id = Ticket.track_id
LEFT JOIN llx_commande ON Ticket.bc = llx_commande.rowid
LEFT JOIN llx_projet ON llx_ticketsup.fk_project = llx_projet.rowid
LEFT JOIN llx_user ON llx_user.rowid = llx_ticketsup.fk_user_assign
LEFT JOIN llx_commande_extrafields ON llx_commande_extrafields.fk_object = llx_commande.rowid
LEFT JOIN llx_ticketsup_extrafields ON llx_ticketsup.rowid = llx_ticketsup_extrafields.fk_object
LEFT JOIN llx_c_ticketsup_type ON llx_c_ticketsup_type.code = llx_ticketsup.type_code
WHERE llx_ticketsup.fk_statut &lt; 8  
AND llx_ticketsup.category_code IN(&quot;CMD&quot;,&quot;INTERNE&quot;,&quot;EQUIPEMENT&quot;)
AND WEEK(IFNULL(DateOperation(llx_commande_extrafields.datelivraisonprev, llx_commande_extrafields.dateenlevementprev, llx_commande_extrafields.date_assemblage, llx_commande.date_livraison, llx_commande_extrafields.cmd_type_tpt,  llx_commande.date_commande),llx_ticketsup_extrafields.deadline),3) &gt;= WEEK(NOW(),3)-3
AND YEAR(IFNULL(DateOperation(llx_commande_extrafields.datelivraisonprev, llx_commande_extrafields.dateenlevementprev, llx_commande_extrafields.date_assemblage, llx_commande.date_livraison, llx_commande_extrafields.cmd_type_tpt,  llx_commande.date_commande),llx_ticketsup_extrafields.deadline)) = YEAR(NOW())
GROUP BY WEEK(IFNULL(DateOperation(llx_commande_extrafields.datelivraisonprev, llx_commande_extrafields.dateenlevementprev, llx_commande_extrafields.date_assemblage, llx_commande.date_livraison, llx_commande_extrafields.cmd_type_tpt,  llx_commande.date_commande),llx_ticketsup_extrafields.deadline),3 ), DAYNAME(IFNULL(DateOperation(llx_commande_extrafields.datelivraisonprev, llx_commande_extrafields.dateenlevementprev, llx_commande_extrafields.date_assemblage, llx_commande.date_livraison, llx_commande_extrafields.cmd_type_tpt,  llx_commande.date_commande),llx_ticketsup_extrafields.deadline) ), llx_c_ticketsup_type.label
ORDER BY IFNULL(DateOperation(llx_commande_extrafields.datelivraisonprev, llx_commande_extrafields.dateenlevementprev, llx_commande_extrafields.date_assemblage, llx_commande.date_livraison, llx_commande_extrafields.cmd_type_tpt,  llx_commande.date_commande),llx_ticketsup_extrafields.deadline) ASC</SQLRaw></SQL><QueryColumns><QueryColumn><Name>Semaine</Name><TableName></TableName><ColumnName>WEEK(IFNULL(DateOperation(llx_commande_extrafields.datelivraisonprev, llx_commande_extrafields.dateenlevementprev, llx_commande_extrafields.date_assemblage, llx_commande.date_livraison, llx_commande_extrafields.cmd_type_tpt,  llx_commande.date_commande),llx_ticketsup_extrafields.deadline),3 )</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>Jour</Name><TableName></TableName><ColumnName>DAYNAME(IFNULL(DateOperation(llx_commande_extrafields.datelivraisonprev, llx_commande_extrafields.dateenlevementprev, llx_commande_extrafields.date_assemblage, llx_commande.date_livraison, llx_commande_extrafields.cmd_type_tpt,  llx_commande.date_commande),llx_ticketsup_extrafields.deadline))</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>TypeCommande</Name><TableName>llx_c_ticketsup_type</TableName><ColumnName>label</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>DureEst</Name><TableName></TableName><ColumnName>SUM(llx_ticketsup_extrafields.heure_est)</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>NBTicket</Name><TableName></TableName><ColumnName>COUNT(llx_ticketsup.track_id)</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>DureEstSemaine</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>DureHebdo</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn></QueryColumns><OrderColumns></OrderColumns><PreSQLS></PreSQLS></Query><Assignments><Assignment><AssignName>DureEstSemaine</AssignName><AssignNameNew></AssignNameNew><Expression>sum({DureEst},{Jour})</Expression><Condition></Condition></Assignment><Assignment><AssignName>DureHebdo</AssignName><AssignNameNew></AssignNameNew><Expression>max({DureEstSemaine},{Semaine})</Expression><Condition></Condition></Assignment></Assignments><Criteria></Criteria><Output><PageHeaders></PageHeaders><PageFooters></PageFooters><DisplayOrders><DisplayOrder><ColumnName>Semaine</ColumnName><OrderNumber>1</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>Jour</ColumnName><OrderNumber>2</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>TypeCommande</ColumnName><OrderNumber>3</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>NBTicket</ColumnName><OrderNumber>4</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>DureEst</ColumnName><OrderNumber>5</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>DureEstSemaine</ColumnName><OrderNumber>6</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>DureHebdo</ColumnName><OrderNumber>7</OrderNumber></DisplayOrder></DisplayOrders><Groups><Group><GroupName>REPORT_BODY</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders></GroupHeaders><GroupTrailers></GroupTrailers></Group><Group><GroupName>Semaine</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders><GroupHeader><GroupHeaderColumn>Semaine</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom><ShowInHTML>yes</ShowInHTML><ShowInPDF>yes</ShowInPDF></GroupHeader></GroupHeaders><GroupTrailers></GroupTrailers></Group><Group><GroupName>Jour</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders><GroupHeader><GroupHeaderColumn>Jour</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom><ShowInHTML>yes</ShowInHTML><ShowInPDF>yes</ShowInPDF></GroupHeader></GroupHeaders><GroupTrailers><GroupTrailer><GroupTrailerDisplayColumn>Jour</GroupTrailerDisplayColumn><GroupTrailerValueColumn>DureEstSemaine</GroupTrailerValueColumn><GroupTrailerCustom></GroupTrailerCustom><ShowInHTML>yes</ShowInHTML><ShowInPDF>yes</ShowInPDF></GroupTrailer></GroupTrailers></Group></Groups><Graphs><Graph><GraphColumn>Semaine</GraphColumn><GraphColor>.DEFAULT</GraphColor><Title>Set Title</Title><GraphWidth>.DEFAULT</GraphWidth><GraphHeight>.DEFAULT</GraphHeight><GraphWidthPDF>.DEFAULT</GraphWidthPDF><GraphHeightPDF>.DEFAULT</GraphHeightPDF><XTitle>Set Title</XTitle><YTitle>Set Title</YTitle><GridPosition>.DEFAULT</GridPosition><XGridDisplay>.DEFAULT</XGridDisplay><XGridColor>.DEFAULT</XGridColor><YGridDisplay>.DEFAULT</YGridDisplay><YGridColor>.DEFAULT</YGridColor><XLabelColumn>Jour</XLabelColumn><TitleFont>.DEFAULT</TitleFont><TitleFontStyle>.DEFAULT</TitleFontStyle><TitleFontSize>.DEFAULT</TitleFontSize><TitleColor>.DEFAULT</TitleColor><XTitleFont>.DEFAULT</XTitleFont><XTitleFontStyle>.DEFAULT</XTitleFontStyle><XTitleFontSize>.DEFAULT</XTitleFontSize><XTitleColor>.DEFAULT</XTitleColor><YTitleFont>.DEFAULT</YTitleFont><YTitleFontStyle>.DEFAULT</YTitleFontStyle><YTitleFontSize>.DEFAULT</YTitleFontSize><YTitleColor>.DEFAULT</YTitleColor><XAxisColor>.DEFAULT</XAxisColor><XAxisFont>.DEFAULT</XAxisFont><XAxisFontStyle>.DEFAULT</XAxisFontStyle><XAxisFontSize>.DEFAULT</XAxisFontSize><XAxisFontColor>.DEFAULT</XAxisFontColor><YAxisColor>.DEFAULT</YAxisColor><YAxisFont>.DEFAULT</YAxisFont><YAxisFontStyle>.DEFAULT</YAxisFontStyle><YAxisFontSize>.DEFAULT</YAxisFontSize><YAxisFontColor>.DEFAULT</YAxisFontColor><XTickInterval>.DEFAULT</XTickInterval><YTickInterval>.DEFAULT</YTickInterval><XTickLabelInterval>.DEFAULT</XTickLabelInterval><YTickLabelInterval>.DEFAULT</YTickLabelInterval><MarginColor>.DEFAULT</MarginColor><MarginLeft>.DEFAULT</MarginLeft><MarginRight>.DEFAULT</MarginRight><MarginTop>.DEFAULT</MarginTop><MarginBottom>.DEFAULT</MarginBottom><Plots><Plot><PlotColumn>DureEstSemaine</PlotColumn><PlotType>BAR</PlotType><LineColor></LineColor><DataType>number</DataType><Legend></Legend><FillColor></FillColor></Plot></Plots></Graph><Graph><GraphColumn>Semaine</GraphColumn><GraphColor>.DEFAULT</GraphColor><Title>Set Title</Title><GraphWidth>.DEFAULT</GraphWidth><GraphHeight>.DEFAULT</GraphHeight><GraphWidthPDF>.DEFAULT</GraphWidthPDF><GraphHeightPDF>.DEFAULT</GraphHeightPDF><XTitle>Set Title</XTitle><YTitle>Set Title</YTitle><GridPosition>.DEFAULT</GridPosition><XGridDisplay>.DEFAULT</XGridDisplay><XGridColor>.DEFAULT</XGridColor><YGridDisplay>.DEFAULT</YGridDisplay><YGridColor>.DEFAULT</YGridColor><XLabelColumn>TypeCommande</XLabelColumn><TitleFont>.DEFAULT</TitleFont><TitleFontStyle>.DEFAULT</TitleFontStyle><TitleFontSize>.DEFAULT</TitleFontSize><TitleColor>.DEFAULT</TitleColor><XTitleFont>.DEFAULT</XTitleFont><XTitleFontStyle>.DEFAULT</XTitleFontStyle><XTitleFontSize>.DEFAULT</XTitleFontSize><XTitleColor>.DEFAULT</XTitleColor><YTitleFont>.DEFAULT</YTitleFont><YTitleFontStyle>.DEFAULT</YTitleFontStyle><YTitleFontSize>.DEFAULT</YTitleFontSize><YTitleColor>.DEFAULT</YTitleColor><XAxisColor>.DEFAULT</XAxisColor><XAxisFont>.DEFAULT</XAxisFont><XAxisFontStyle>.DEFAULT</XAxisFontStyle><XAxisFontSize>.DEFAULT</XAxisFontSize><XAxisFontColor>.DEFAULT</XAxisFontColor><YAxisColor>.DEFAULT</YAxisColor><YAxisFont>.DEFAULT</YAxisFont><YAxisFontStyle>.DEFAULT</YAxisFontStyle><YAxisFontSize>.DEFAULT</YAxisFontSize><YAxisFontColor>.DEFAULT</YAxisFontColor><XTickInterval>.DEFAULT</XTickInterval><YTickInterval>.DEFAULT</YTickInterval><XTickLabelInterval>.DEFAULT</XTickLabelInterval><YTickLabelInterval>.DEFAULT</YTickLabelInterval><MarginColor>.DEFAULT</MarginColor><MarginLeft>.DEFAULT</MarginLeft><MarginRight>.DEFAULT</MarginRight><MarginTop>.DEFAULT</MarginTop><MarginBottom>.DEFAULT</MarginBottom><Plots><Plot><PlotColumn>NBTicket</PlotColumn><PlotType>PIE</PlotType><LineColor></LineColor><DataType>number</DataType><Legend></Legend><FillColor></FillColor></Plot></Plots></Graph></Graphs></Output></EntryForm></ReportQuery></Report>